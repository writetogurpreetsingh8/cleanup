<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uninstall Inertia Breaker</title>
    <link rel="stylesheet" href="style.css"> <!-- External CSS -->
</head>
<body>
    <div class="container">
        <div class="header">
            <img src="logo.png" alt="Inertia Breaker Logo" class="logo" />
            <h1>Thank You for Using Inertia Breaker</h1>
        </div>
        <p class="message">
            We're sorry to see you go. If there's anything we can do to improve, please let us know. Weâ€™re constantly working to make your experience better!
        </p>
        <div class="cleanup">
            <h2>Cleaning Up...</h2>
            <p>We are removing your local data to ensure a complete uninstall.</p>
            <p class="status" id="cleanupStatus">Starting cleanup...</p>
        </div>
    </div>
    <script>
        // JavaScript to handle cleanup and feedback submission
        document.addEventListener("DOMContentLoaded", () => {
            const cleanupStatus = document.getElementById("cleanupStatus");
            const dbName = "YourDatabaseName"; // Replace with your database name

            // Delete specific IndexedDB database
            const request = indexedDB.deleteDatabase(dbName);
            request.onsuccess = () => {
                cleanupStatus.textContent = `Database '${dbName}' deleted successfully.`;
            };
            request.onerror = (event) => {
                cleanupStatus.textContent = `Error deleting database '${dbName}': ${event.target.error}`;
            };
            request.onblocked = () => {
                cleanupStatus.textContent = `Database deletion blocked. Please close all tabs using this extension.`;
            };
            chrome.storage.local.remove(['globalTimer','blocklist','pageDisplay','siteTimes','globalTime',
    'globalLimit','siteLimits','breakSettings','monitorUsage','monitoringUsageInstance','password','blockSocialMediaToggle'],
    () => {
      if (chrome.runtime.lastError) {
        console.error('Error removing keys:', chrome.runtime.lastError);
      }
    });
        });
    </script>
</body>
</html>
